# =============================================================================
# BOT-CORE PYTHON AI SERVICE - REQUIREMENTS
# =============================================================================
# Using version ranges instead of exact pins to allow pip to resolve conflicts
# Last updated: 2026-02-06
# =============================================================================

# -----------------------------------------------------------------------------
# CORE AI/ML PACKAGES
# -----------------------------------------------------------------------------
tensorflow>=2.18.0,<2.21.0
torch>=2.9.0,<3.0.0  # Security fix: CVE-2025-2953, CVE-2025-3730, CVE-2025-32434
torchaudio>=2.5.0,<3.0.0
torchvision>=0.20.0,<1.0.0
scikit-learn>=1.6.0,<2.0.0  # Security fix: CVE-2024-5206
pandas>=2.2.0,<3.0.0
numpy>=1.26.0,<2.1.0
scipy>=1.14.0,<2.0.0
joblib>=1.4.0,<2.0.0

# -----------------------------------------------------------------------------
# DEEP LEARNING UTILITIES
# -----------------------------------------------------------------------------
keras>=3.13.1,<4.0.0  # Security fix: GHSA-xfhx-r7ww-5995
h5py>=3.12.0,<4.0.0
tensorboard>=2.18.0,<3.0.0

# -----------------------------------------------------------------------------
# FASTAPI & WEB FRAMEWORK
# -----------------------------------------------------------------------------
fastapi>=0.115.0,<1.0.0
uvicorn>=0.30.0,<1.0.0
pydantic>=2.9.0,<3.0.0
pydantic-settings>=2.5.0,<3.0.0
python-multipart>=0.0.22,<1.0.0  # Security fix: GHSA-wp53-j4wj-2cfg
starlette>=0.40.0,<1.0.0
websockets>=13.0,<14.0

# -----------------------------------------------------------------------------
# OPENAI INTEGRATION
# -----------------------------------------------------------------------------
openai>=1.50.0,<2.0.0

# -----------------------------------------------------------------------------
# TECHNICAL ANALYSIS & CHARTING
# -----------------------------------------------------------------------------
ta>=0.11.0,<1.0.0
matplotlib>=3.9.0,<4.0.0
seaborn>=0.13.0,<1.0.0
plotly>=5.24.0,<6.0.0
fonttools>=4.60.2,<5.0.0  # Security fix: CVE-2025-66034

# -----------------------------------------------------------------------------
# DATABASE DRIVERS
# -----------------------------------------------------------------------------
pymongo>=4.10.0,<5.0.0
motor>=3.6.0,<4.0.0
redis>=5.3.0,<8.0.0  # Security fix: CVE-2024-53981, CVE-2024-24762
dnspython>=2.6.0,<3.0.0

# -----------------------------------------------------------------------------
# ASYNC TASK QUEUE (CELERY)
# -----------------------------------------------------------------------------
celery[redis]>=5.4.0,<6.0.0
flower>=2.0.0,<3.0.0
kombu>=5.4.0,<6.0.0

# -----------------------------------------------------------------------------
# LOGGING & MONITORING
# -----------------------------------------------------------------------------
loguru>=0.7.0,<1.0.0
python-json-logger>=3.0.0,<4.0.0
prometheus-client>=0.21.0,<1.0.0

# -----------------------------------------------------------------------------
# HTTP CLIENTS
# -----------------------------------------------------------------------------
httpx>=0.27.0,<1.0.0
requests>=2.32.3,<3.0.0  # Security fix: CVE-2024-47081, CVE-2024-35195
aiohttp>=3.10.0,<4.0.0
urllib3>=2.6.3,<3.0.0  # Security fix: GHSA-gm62-xv2j-4w53, GHSA-2xpw-w6gg-jr37, GHSA-38jv-5279-wg99

# -----------------------------------------------------------------------------
# UTILITIES
# -----------------------------------------------------------------------------
python-dotenv>=1.0.0,<2.0.0
pyyaml>=6.0.0,<7.0.0
tenacity>=9.0.0,<10.0.0
tqdm>=4.66.0,<5.0.0
Pillow>=10.4.0,<12.0.0
cachetools>=5.5.0,<6.0.0
aiofiles>=24.0.0,<25.0.0

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
slowapi>=0.1.9,<1.0.0
limits>=3.13.0,<4.0.0

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
cryptography>=43.0.0,<45.0.0
bcrypt>=4.2.0,<5.0.0
werkzeug>=3.1.5,<4.0.0  # Security fix: GHSA-hgf8-39gv-g3f2, GHSA-87hc-h4r5-73f7
filelock>=3.20.3,<4.0.0  # Security fix: GHSA-w853-jp5j-5j7f, GHSA-qmgc-5h2g-mvrw
pyasn1>=0.6.2,<1.0.0  # Security fix: GHSA-63vm-454h-vhhq
protobuf>=5.29.6,<7.0.0  # Security fix: GHSA-7gcm-g887-7qv7

# -----------------------------------------------------------------------------
# DEVELOPMENT & TESTING
# -----------------------------------------------------------------------------
virtualenv>=20.36.1,<21.0.0  # Security fix: GHSA-597g-3phw-6986
pytest>=8.3.0,<9.0.0
pytest-asyncio>=0.24.0,<1.0.0
pytest-cov>=5.0.0,<6.0.0
pytest-mock>=3.14.0,<4.0.0
pytest-xdist>=3.6.0,<4.0.0
pytest-timeout>=2.3.0,<3.0.0
httpx>=0.27.0  # For testing
freezegun>=1.5.0,<2.0.0
Faker>=30.0.0,<40.0.0

# -----------------------------------------------------------------------------
# CODE QUALITY
# -----------------------------------------------------------------------------
black>=24.8.0,<26.0.0
flake8>=7.1.0,<8.0.0
isort>=5.13.0,<6.0.0
mypy>=1.11.0,<2.0.0
pycodestyle>=2.12.0,<3.0.0
pyflakes>=3.2.0,<4.0.0
mccabe>=0.7.0,<1.0.0

# -----------------------------------------------------------------------------
# TYPE STUBS
# -----------------------------------------------------------------------------
types-requests>=2.32.0,<3.0.0
types-PyYAML>=6.0.0,<7.0.0

# -----------------------------------------------------------------------------
# JUPYTER/NOTEBOOK SUPPORT (transitive dep fix)
# -----------------------------------------------------------------------------
nbconvert>=7.17.0,<8.0.0  # Security fix: GHSA-xm59-rqc7-hhvf

# -----------------------------------------------------------------------------
# DOCUMENTATION (optional)
# -----------------------------------------------------------------------------
# sphinx>=7.4.0,<8.0.0
# sphinx-rtd-theme>=2.0.0,<3.0.0
