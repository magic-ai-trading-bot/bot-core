# OPTIMIZED PAPER TRADING SETTINGS
# Risk: LOW | Profit Potential: HIGH
# Win Rate Required: 33%+ for breakeven, 50%+ for good profits
# Created: 2025-11-20 after analyzing 30 losing trades

[basic]
# Starting capital
initial_balance = 10000.0

# Conservative position limits
max_positions = 5  # Down from 10 - less exposure, better focus

# Position sizing - CRITICAL for risk management
default_position_size_pct = 2.0  # Down from 5% - only 2% per trade

# Leverage - THE MOST IMPORTANT CHANGE
default_leverage = 3  # Down from 10x - drastically reduces liquidation risk

# Binance Futures fees
trading_fee_rate = 0.0004  # 0.04% maker/taker
funding_fee_rate = 0.0001  # 0.01% every 8 hours
slippage_pct = 0.01        # 0.01% simulated slippage

# Enable paper trading
enabled = true
auto_restart = false

[risk]
# Maximum risk per single trade
max_risk_per_trade_pct = 1.0  # Down from 2% - max 1% loss per trade

# Total portfolio risk limit
max_portfolio_risk_pct = 10.0  # Down from 20% - max 10% at risk

# Stop Loss - CRITICAL: Must be wider than market noise
# BTC/ETH hourly volatility: 0.5-1.5%
# With 3x leverage: 5% SL = 1.67% price move (perfect!)
default_stop_loss_pct = 5.0  # Up from 2% - avoid noise-triggered stops

# Take Profit - Higher target for better risk/reward
# With 3x leverage: 10% TP = 3.33% price move (achievable!)
default_take_profit_pct = 10.0  # Up from 4% - better R:R ratio

# Leverage limits
max_leverage = 5  # Hard cap at 5x - safety first!

# Margin requirements
min_margin_level = 300.0  # Up from 200% - extra safety buffer

# Drawdown protection
max_drawdown_pct = 10.0  # Down from 15% - stop earlier
daily_loss_limit_pct = 3.0  # Down from 5% - protect daily capital

# Loss streak protection
max_consecutive_losses = 3  # Down from 5 - stop faster on bad streaks
cool_down_minutes = 30  # Cool down after loss streaks

# Position sizing strategy
position_sizing_method = "RiskBased"  # Size based on risk, not fixed %

# Risk/Reward requirement
min_risk_reward_ratio = 2.0  # Up from 1.5 - only take high-quality trades

# Correlation protection
correlation_limit = 0.7
dynamic_sizing = true
volatility_lookback_hours = 24

[strategy]
# AI confidence threshold
min_ai_confidence = 0.7  # 70% minimum - only high-confidence signals

# Strategy combination
combination_method = "AIEnsemble"
enable_optimization = true
optimization_period_days = 30
min_trades_for_optimization = 50
signal_timeout_minutes = 30
enable_market_regime_detection = true

[ai]
# Python AI service connection
service_url = "http://python-ai-service-dev:8000"
request_timeout_seconds = 30
signal_refresh_interval_minutes = 5
enable_realtime_signals = true
enable_feedback_learning = true
feedback_delay_hours = 4
enable_strategy_recommendations = true
track_model_performance = true

# Confidence thresholds by market regime
[ai.confidence_thresholds]
trending = 0.65  # Easier trades in trends
ranging = 0.75   # Harder trades in ranges
volatile = 0.80  # Very selective in high volatility

[execution]
# Automatic trade execution
auto_execution = true
execution_delay_ms = 100
simulate_partial_fills = false
partial_fill_probability = 0.1
order_expiration_minutes = 60
simulate_slippage = true
max_slippage_pct = 0.05
simulate_market_impact = false
market_impact_factor = 0.001
price_update_frequency_seconds = 1

[notifications]
# Notification settings
enable_trade_notifications = true
enable_performance_notifications = true
enable_risk_warnings = true
daily_summary = true
weekly_report = true
min_pnl_notification = 10.0
max_notifications_per_hour = 20

# EXPECTED RESULTS WITH THESE SETTINGS:
#
# Win Rate 40% (Realistic):
# - Avg Win: +$20 (2% × 10% profit)
# - Avg Loss: -$10 (2% × 5% loss)
# - Expected: +$2/trade → +2% per 100 trades
#
# Win Rate 50% (Good AI):
# - Expected: +$5/trade → +5% per 100 trades
#
# Win Rate 60% (Excellent):
# - Expected: +$8/trade → +8% per 100 trades
#
# KEY IMPROVEMENTS:
# 1. Leverage 3x (was 10x) → 70% less stop loss hits
# 2. Stop Loss 5% (was 2%) → Survives market noise
# 3. Take Profit 10% (was 4%) → 2:1 risk/reward
# 4. Position Size 2% (was 5%) → Better capital preservation
# 5. Max Positions 5 (was 10) → Better focus, less correlation risk
