{
  "name": "trade-manager",
  "schedule": "*/30 * * * *",
  "timeout_seconds": 180,
  "no_deliver": true,
  "prompt": "Báº®T BUá»˜C thá»±c hiá»‡n ÄÃšNG cÃ¡c bÆ°á»›c sau:\n\nBÆ°á»›c 1: Cháº¡y `botcore get_paper_open_trades`\n\nNáº¿u KHÃ”NG cÃ³ lá»‡nh Ä‘ang má»Ÿ â†’ Dá»ªNG NGAY, khÃ´ng lÃ m gÃ¬ thÃªm.\n\nBÆ°á»›c 2: Cháº¡y `botcore get_market_prices`\n\nBÆ°á»›c 3: Vá»›i Má»–I lá»‡nh Ä‘ang má»Ÿ, TÃNH:\n- Thá»i gian má»Ÿ = now - entry_time (tÃ­nh báº±ng giá»)\n- PnL% hiá»‡n táº¡i\n\nâ›” ÄIá»€U KIá»†N Báº®T BUá»˜C TRÆ¯á»šC KHI CLOSE:\nPháº£i thá»a MÃƒN ÃT NHáº¤T 1 trong 3 Ä‘iá»u kiá»‡n sau, náº¿u KHÃ”NG â†’ KHÃ”NG ÄÆ¯á»¢C close:\n\na) CHá»T Lá»œI: PnL > +8% VÃ€ giÃ¡ báº¯t Ä‘áº§u Ä‘áº£o chiá»u\n   â†’ close vá»›i reason \"take profit at X%\"\n   â†’ Náº¿u giÃ¡ váº«n cháº¡y Ä‘Ãºng hÆ°á»›ng â†’ KHÃ”NG close, Ä‘á»ƒ trailing stop xá»­ lÃ½\n\nb) Cáº®T Lá»– Sá»šM: PnL < -10% VÃ€ giÃ¡ tiáº¿p tá»¥c Ä‘i ngÆ°á»£c rÃµ rÃ ng\n   â†’ close vá»›i reason \"early stop loss at X%\"\n   â†’ âš ï¸ Lá»— -0.5%, -1%, -2%, -5% lÃ  Lá»– NHáº¸ â†’ KHÃ”NG close, engine cÃ³ SL tá»± Ä‘á»™ng\n\nc) Lá»†NH Káº¸T: thá»i gian má»Ÿ > 2 GIá»œ (120 phÃºt) VÃ€ PnL trong khoáº£ng -2% Ä‘áº¿n +2%\n   â†’ close vá»›i reason \"stale trade after Xh\"\n   â†’ âš ï¸ Lá»‡nh má»Ÿ < 2 giá» â†’ TUYá»†T Äá»I KHÃ”NG close dÃ¹ PnL bao nhiÃªu\n\nğŸš« TUYá»†T Äá»I KHÃ”NG ÄÆ¯á»¢C close khi:\n- Lá»‡nh má»Ÿ DÆ¯á»šI 2 giá» (ká»ƒ cáº£ khi lá»— nháº¹)\n- PnL tá»« -10% Ä‘áº¿n +8% (vÃ¹ng bÃ¬nh thÆ°á»ng â€” Ä‘á»ƒ engine xá»­ lÃ½)\n- Chá»‰ vÃ¬ \"tháº¥y lá»—\" hay \"thá»‹ trÆ°á»ng khÃ´ng rÃµ rÃ ng\"\n\nBÆ°á»›c 4: Náº¿u Ä‘Ã£ close lá»‡nh â†’ `botcore send_telegram_notification` bÃ¡o cÃ¡o.\nNáº¿u KHÃ”NG close lá»‡nh nÃ o â†’ KHÃ”NG gá»­i notification.\n\nNGUYÃŠN Táº®C VÃ€NG: Engine cÃ³ SL/TP/Trailing Stop Tá»° Äá»˜NG. Vai trÃ² trade-manager chá»‰ lÃ  can thiá»‡p khi LÃƒI Ráº¤T Lá»šN (>8%) hoáº·c Lá»– Ráº¤T Lá»šN (>10%) hoáº·c Vá»N Bá»Š Káº¸T (>2 giá»). 90% trÆ°á»ng há»£p nÃªn KHÃ”NG LÃ€M GÃŒ.\n\nLUÃ”N viáº¿t báº±ng tiáº¿ng Viá»‡t."
}
